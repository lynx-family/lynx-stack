packages:
  - benchmark/react
  - examples/*
  - packages/background-only
  - packages/lynx/*
  - packages/mcp-servers/*
  - packages/react
  - packages/react/refresh
  - packages/react/runtime
  - packages/react/testing-library
  - packages/react/transform
  - packages/react/transform/rspack-napi
  - packages/react/transform/swc-plugin-reactlynx
  - packages/react/transform/swc-plugin-reactlynx-compat
  - packages/react/worklet-runtime
  - packages/rspeedy/*
  - packages/tailwind-preset
  - packages/testing-library/*
  - packages/testing-library/examples/*
  - packages/motion
  - packages/tools/*
  - packages/use-sync-external-store
  - packages/web-platform/*
  - packages/webpack/*
  - website

# From `@pnpm/plugin-better-defaults`
enablePrePostScripts: false
ignorePatchFailures: false
optimisticRepeatInstall: true
resolutionMode: "lowest-direct"

# Default catalogs
catalog:
  "@microsoft/api-extractor": "7.55.2"

catalogs:
  # Rsbuild monorepo packages
  rsbuild:
    "@rsbuild/core": "1.7.2"

  # Rspack monorepo packages
  rspack:
    "@rspack/cli": "1.7.3"
    "@rspack/core": "1.7.3"
    "@rspack/test-tools": "1.5.6"

overrides:
  "@rspack/core": "$@rspack/core"
  "@rsbuild/core>@rspack/core": "$@rspack/core"

patchedDependencies:
  "@codspeed/vitest-plugin": patches/@codspeed__vitest-plugin.patch
  "@napi-rs/cli@2.18.4": "patches/@napi-rs__cli@2.18.4.patch"
  "@rollup/plugin-typescript": "patches/@rollup__plugin-typescript.patch"

strictDepBuilds: true

onlyBuiltDependencies:
  - dprint
  - esbuild

ignoredBuiltDependencies:
  - "@biomejs/biome"
  - "@parcel/watcher"
  - "@swc/core"
  - core-js
  - unrs-resolver
